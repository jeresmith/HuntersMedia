{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport firebase from 'firebase/compat';\n\nrequire('firebase/firestore');\n\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { connect } from 'react-redux';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction Feed(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      posts = _useState2[0],\n      setPosts = _useState2[1];\n\n  useEffect(function () {\n    var posts = [];\n\n    if (props.usersLoaded == props.following.length) {\n      var _loop = function _loop(i) {\n        var user = props.users.find(function (el) {\n          return el.uid === props.following[i];\n        });\n\n        if (user != undefined) {\n          posts = [].concat(_toConsumableArray(posts), _toConsumableArray(user.posts));\n        }\n      };\n\n      for (var i = 0; i < props.following.length; i++) {\n        _loop(i);\n      }\n\n      posts.sort(function (x, y) {\n        return x.creation - y.creation;\n      });\n      setPosts(posts);\n    }\n  }, [props.usersLoaded]);\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(View, {\n      style: styles.containerGallery,\n      children: _jsx(FlatList, {\n        numColumns: 1,\n        horizontal: false,\n        data: posts,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _jsxs(View, {\n            style: styles.containerImage,\n            children: [_jsx(Text, {\n              style: styles.container,\n              children: item.user.username\n            }), _jsx(Image, {\n              style: styles.image,\n              source: {\n                uri: item.downloadURL\n              }\n            })]\n          });\n        }\n      })\n    })\n  });\n}\n\nvar styles = StyleSheet.create({\n  topBar: {\n    paddingTop: 50,\n    backgroundColor: '#006400'\n  },\n  row: {\n    flex: 1,\n    flexDirection: 'row',\n    backgroundColor: '#006400'\n  },\n  image: {\n    aspectRatio: 1 / 1,\n    marginBottom: 10,\n    marginStart: 10,\n    height: 70,\n    width: 70\n  },\n  button: {\n    backgroundColor: '#D2B48C',\n    paddingEnd: 10,\n    paddingTop: 50\n  },\n  post: {\n    paddingVertical: 10,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  containerGallery: {\n    flex: 1\n  },\n  image: {\n    flex: 1,\n    aspectRatio: 1 / 1\n  },\n  containerImage: {\n    flex: 1 / 3\n  },\n  container: {\n    flex: 1\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    currentUser: store.userState.currentUser,\n    following: store.userState.following,\n    users: store.usersState.users,\n    usersLoaded: store.usersState.usersLoaded\n  };\n};\n\nexport default connect(mapStateToProps, null)(Feed);","map":{"version":3,"sources":["/Users/jeremiah/CS470/HuntersMedia/code/components/main/Feed.js"],"names":["React","useState","useEffect","firebase","require","connect","Feed","props","posts","setPosts","usersLoaded","following","length","i","user","users","find","el","uid","undefined","sort","x","y","creation","styles","container","containerGallery","item","containerImage","username","image","uri","downloadURL","StyleSheet","create","topBar","paddingTop","backgroundColor","row","flex","flexDirection","aspectRatio","marginBottom","marginStart","height","width","button","paddingEnd","post","paddingVertical","justifyContent","alignItems","mapStateToProps","store","currentUser","userState","usersState"],"mappings":";;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,iBAArB;;AACAC,OAAO,CAAC,oBAAD,CAAP;;;;;;;;;AAEA,SAAQC,OAAR,QAAsB,aAAtB;;;;AAIA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AACjB,kBAA0BN,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOO,KAAP;AAAA,MAAcC,QAAd;;AAGAP,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIM,KAAK,GAAG,EAAZ;;AACA,QAAGD,KAAK,CAACG,WAAN,IAAqBH,KAAK,CAACI,SAAN,CAAgBC,MAAxC,EAA+C;AAAA,iCACrCC,CADqC;AAG3C,YAAMC,IAAI,GAAGP,KAAK,CAACQ,KAAN,CAAYC,IAAZ,CAAiB,UAAAC,EAAE;AAAA,iBAAIA,EAAE,CAACC,GAAH,KAAWX,KAAK,CAACI,SAAN,CAAgBE,CAAhB,CAAf;AAAA,SAAnB,CAAb;;AACA,YAAGC,IAAI,IAAIK,SAAX,EAAqB;AACnBX,UAAAA,KAAK,gCAAMA,KAAN,sBAAgBM,IAAI,CAACN,KAArB,EAAL;AACD;AAN0C;;AAC7C,WAAI,IAAIK,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGN,KAAK,CAACI,SAAN,CAAgBC,MAAnC,EAA2CC,CAAC,EAA5C,EACA;AAAA,cADQA,CACR;AAKC;;AAEDL,MAAAA,KAAK,CAACY,IAAN,CAAW,UAASC,CAAT,EAAWC,CAAX,EAAc;AACvB,eAAOD,CAAC,CAACE,QAAF,GAAaD,CAAC,CAACC,QAAtB;AACD,OAFD;AAIAd,MAAAA,QAAQ,CAACD,KAAD,CAAR;AAED;AAEF,GAnBQ,EAmBN,CAACD,KAAK,CAACG,WAAP,CAnBM,CAAT;AAsBA,SACE,KAAC,IAAD;AAAM,IAAA,KAAK,EAAEc,MAAM,CAACC,SAApB;AAAA,cACI,KAAC,IAAD;AAAM,MAAA,KAAK,EAAED,MAAM,CAACE,gBAApB;AAAA,gBACI,KAAC,QAAD;AACI,QAAA,UAAU,EAAE,CADhB;AAEI,QAAA,UAAU,EAAE,KAFhB;AAGI,QAAA,IAAI,EAAElB,KAHV;AAII,QAAA,UAAU,EAAE;AAAA,cAAEmB,IAAF,QAAEA,IAAF;AAAA,iBAER,MAAC,IAAD;AAAM,YAAA,KAAK,EAAEH,MAAM,CAACI,cAApB;AAAA,uBACI,KAAC,IAAD;AAAM,cAAA,KAAK,EAAEJ,MAAM,CAACC,SAApB;AAAA,wBAAgCE,IAAI,CAACb,IAAL,CAAUe;AAA1C,cADJ,EAEI,KAAC,KAAD;AACE,cAAA,KAAK,EAAEL,MAAM,CAACM,KADhB;AAEE,cAAA,MAAM,EAAE;AAACC,gBAAAA,GAAG,EAAEJ,IAAI,CAACK;AAAX;AAFV,cAFJ;AAAA,YAFQ;AAAA;AAJhB;AADJ;AADJ,IADF;AAuBH;;AAED,IAAMR,MAAM,GAAGS,UAAU,CAACC,MAAX,CAAkB;AAC7BC,EAAAA,MAAM,EAAE;AACNC,IAAAA,UAAU,EAAE,EADN;AAENC,IAAAA,eAAe,EAAE;AAFX,GADqB;AAK7BC,EAAAA,GAAG,EAAE;AACHC,IAAAA,IAAI,EAAE,CADH;AAEHC,IAAAA,aAAa,EAAE,KAFZ;AAGHH,IAAAA,eAAe,EAAE;AAHd,GALwB;AAU7BP,EAAAA,KAAK,EAAE;AACHW,IAAAA,WAAW,EAAE,IAAE,CADZ;AAEHC,IAAAA,YAAY,EAAE,EAFX;AAGHC,IAAAA,WAAW,EAAE,EAHV;AAIHC,IAAAA,MAAM,EAAE,EAJL;AAKHC,IAAAA,KAAK,EAAE;AALJ,GAVsB;AAiB7BC,EAAAA,MAAM,EAAE;AACNT,IAAAA,eAAe,EAAE,SADX;AAENU,IAAAA,UAAU,EAAE,EAFN;AAGNX,IAAAA,UAAU,EAAE;AAHN,GAjBqB;AAsB7BY,EAAAA,IAAI,EAAE;AACJC,IAAAA,eAAe,EAAE,EADb;AAEJC,IAAAA,cAAc,EAAE,QAFZ;AAGJC,IAAAA,UAAU,EAAE;AAHR,GAtBuB;AA2B7BzB,EAAAA,gBAAgB,EAAE;AAChBa,IAAAA,IAAI,EAAE;AADU,GA3BW;AA8B7BT,EAAAA,KAAK,EAAE;AACLS,IAAAA,IAAI,EAAE,CADD;AAELE,IAAAA,WAAW,EAAE,IAAE;AAFV,GA9BsB;AAkC7Bb,EAAAA,cAAc,EAAC;AACbW,IAAAA,IAAI,EAAE,IAAE;AADK,GAlCc;AAqC7Bd,EAAAA,SAAS,EAAE;AACTc,IAAAA,IAAI,EAAE;AADG;AArCkB,CAAlB,CAAf;;AA2CA,IAAMa,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAY;AAClCC,IAAAA,WAAW,EAAED,KAAK,CAACE,SAAN,CAAgBD,WADK;AAElC3C,IAAAA,SAAS,EAAE0C,KAAK,CAACE,SAAN,CAAgB5C,SAFO;AAGlCI,IAAAA,KAAK,EAAEsC,KAAK,CAACG,UAAN,CAAiBzC,KAHU;AAIlCL,IAAAA,WAAW,EAAE2C,KAAK,CAACG,UAAN,CAAiB9C;AAJI,GAAZ;AAAA,CAAxB;;AASA,eAAeL,OAAO,CAAC+C,eAAD,EAAkB,IAAlB,CAAP,CAA+B9C,IAA/B,CAAf","sourcesContent":["//import {View, Text, Button, ScrollView, Image, StyleSheet} from 'react-native';\n\nimport React, { useState, useEffect } from 'react'\nimport firebase from 'firebase/compat'\nrequire('firebase/firestore')\nimport {StyleSheet, View, Text, Image, FlatList, Button, ScrollView} from 'react-native';\nimport {connect} from 'react-redux'\n\n\n\nfunction Feed(props) {\n    const [posts, setPosts] = useState([]); \n    \n\n    useEffect(() => {\n      let posts = [];\n      if(props.usersLoaded == props.following.length){\n        for(let i = 0; i < props.following.length; i++)\n        {\n          const user = props.users.find(el => el.uid === props.following[i]);\n          if(user != undefined){\n            posts =[...posts, ...user.posts]\n          }\n        }\n\n        posts.sort(function(x,y) {\n          return x.creation - y.creation;\n        })\n\n        setPosts(posts);\n\n      }\n        \n    }, [props.usersLoaded])\n    \n\n    return (\n      <View style={styles.container}>\n          <View style={styles.containerGallery}>\n              <FlatList\n                  numColumns={1}\n                  horizontal={false}\n                  data={posts}\n                  renderItem={({item}) => \n                  (\n                      <View style={styles.containerImage}>\n                          <Text style={styles.container}>{item.user.username}</Text>\n                          <Image\n                            style={styles.image}\n                            source={{uri: item.downloadURL}}\n                          />\n                      </View>\n                  )}\n              />\n          </View> \n      </View>\n         \n      \n    )\n}\n\nconst styles = StyleSheet.create({\n    topBar: {\n      paddingTop: 50,\n      backgroundColor: '#006400'\n    },\n    row: {\n      flex: 1,\n      flexDirection: 'row',\n      backgroundColor: '#006400',\n    },\n    image: {\n        aspectRatio: 1/1,\n        marginBottom: 10,\n        marginStart: 10,\n        height: 70,\n        width: 70\n    },\n    button: {\n      backgroundColor: '#D2B48C',\n      paddingEnd: 10,\n      paddingTop: 50\n    },\n    post: {\n      paddingVertical: 10,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    containerGallery: {\n      flex: 1\n    },\n    image: {\n      flex: 1,\n      aspectRatio: 1/1\n    },\n    containerImage:{\n      flex: 1/3\n    },\n    container: {\n      flex: 1,\n    }\n\n})\n\nconst mapStateToProps = (store) => ({\n  currentUser: store.userState.currentUser,\n  following: store.userState.following,\n  users: store.usersState.users,\n  usersLoaded: store.usersState.usersLoaded,\n\n})\n\n\nexport default connect(mapStateToProps, null)(Feed);"]},"metadata":{},"sourceType":"module"}