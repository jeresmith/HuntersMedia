{"ast":null,"code":"import * as React from 'react';\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nexport default function useKeyboardManager(isEnabled) {\n  var previouslyFocusedTextInputRef = React.useRef(undefined);\n  var startTimestampRef = React.useRef(0);\n  var keyboardTimeoutRef = React.useRef();\n  var clearKeyboardTimeout = React.useCallback(function () {\n    if (keyboardTimeoutRef.current !== undefined) {\n      clearTimeout(keyboardTimeoutRef.current);\n      keyboardTimeoutRef.current = undefined;\n    }\n  }, []);\n  var onPageChangeStart = React.useCallback(function () {\n    if (!isEnabled()) {\n      return;\n    }\n\n    clearKeyboardTimeout();\n    var input = TextInput.State.currentlyFocusedInput();\n    input === null || input === void 0 ? void 0 : input.blur();\n    previouslyFocusedTextInputRef.current = input;\n    startTimestampRef.current = Date.now();\n  }, [clearKeyboardTimeout, isEnabled]);\n  var onPageChangeConfirm = React.useCallback(function (force) {\n    if (!isEnabled()) {\n      return;\n    }\n\n    clearKeyboardTimeout();\n\n    if (force) {\n      Keyboard.dismiss();\n    } else {\n      var input = previouslyFocusedTextInputRef.current;\n      input === null || input === void 0 ? void 0 : input.blur();\n    }\n\n    previouslyFocusedTextInputRef.current = undefined;\n  }, [clearKeyboardTimeout, isEnabled]);\n  var onPageChangeCancel = React.useCallback(function () {\n    if (!isEnabled()) {\n      return;\n    }\n\n    clearKeyboardTimeout();\n    var input = previouslyFocusedTextInputRef.current;\n\n    if (input) {\n      if (Date.now() - startTimestampRef.current < 100) {\n        keyboardTimeoutRef.current = setTimeout(function () {\n          input === null || input === void 0 ? void 0 : input.focus();\n          previouslyFocusedTextInputRef.current = undefined;\n        }, 100);\n      } else {\n        input === null || input === void 0 ? void 0 : input.focus();\n        previouslyFocusedTextInputRef.current = undefined;\n      }\n    }\n  }, [clearKeyboardTimeout, isEnabled]);\n  React.useEffect(function () {\n    return function () {\n      return clearKeyboardTimeout();\n    };\n  }, [clearKeyboardTimeout]);\n  return {\n    onPageChangeStart: onPageChangeStart,\n    onPageChangeConfirm: onPageChangeConfirm,\n    onPageChangeCancel: onPageChangeCancel\n  };\n}","map":{"version":3,"mappings":"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","names":["React","useKeyboardManager","isEnabled","previouslyFocusedTextInputRef","useRef","undefined","startTimestampRef","keyboardTimeoutRef","clearKeyboardTimeout","useCallback","current","clearTimeout","onPageChangeStart","input","TextInput","State","currentlyFocusedInput","blur","Date","now","onPageChangeConfirm","force","Keyboard","dismiss","onPageChangeCancel","setTimeout","focus","useEffect"],"sources":["C:/Users/lance/OneDrive/Documents/GitHub/HuntersMedia/code/node_modules/@react-navigation/stack/lib/module/utils/useKeyboardManager.js"],"sourcesContent":["import * as React from 'react';\r\nimport { Keyboard, TextInput } from 'react-native';\r\nexport default function useKeyboardManager(isEnabled) {\r\n  // Numeric id of the previously focused text input\r\n  // When a gesture didn't change the tab, we can restore the focused input with this\r\n  const previouslyFocusedTextInputRef = React.useRef(undefined);\r\n  const startTimestampRef = React.useRef(0);\r\n  const keyboardTimeoutRef = React.useRef();\r\n  const clearKeyboardTimeout = React.useCallback(() => {\r\n    if (keyboardTimeoutRef.current !== undefined) {\r\n      clearTimeout(keyboardTimeoutRef.current);\r\n      keyboardTimeoutRef.current = undefined;\r\n    }\r\n  }, []);\r\n  const onPageChangeStart = React.useCallback(() => {\r\n    if (!isEnabled()) {\r\n      return;\r\n    }\r\n\r\n    clearKeyboardTimeout();\r\n    const input = TextInput.State.currentlyFocusedInput(); // When a page change begins, blur the currently focused input\r\n\r\n    input === null || input === void 0 ? void 0 : input.blur(); // Store the id of this input so we can refocus it if change was cancelled\r\n\r\n    previouslyFocusedTextInputRef.current = input; // Store timestamp for touch start\r\n\r\n    startTimestampRef.current = Date.now();\r\n  }, [clearKeyboardTimeout, isEnabled]);\r\n  const onPageChangeConfirm = React.useCallback(force => {\r\n    if (!isEnabled()) {\r\n      return;\r\n    }\r\n\r\n    clearKeyboardTimeout();\r\n\r\n    if (force) {\r\n      // Always dismiss input, even if we don't have a ref to it\r\n      // We might not have the ref if onPageChangeStart was never called\r\n      // This can happen if page change was not from a gesture\r\n      Keyboard.dismiss();\r\n    } else {\r\n      const input = previouslyFocusedTextInputRef.current; // Dismiss the keyboard only if an input was a focused before\r\n      // This makes sure we don't dismiss input on going back and focusing an input\r\n\r\n      input === null || input === void 0 ? void 0 : input.blur();\r\n    } // Cleanup the ID on successful page change\r\n\r\n\r\n    previouslyFocusedTextInputRef.current = undefined;\r\n  }, [clearKeyboardTimeout, isEnabled]);\r\n  const onPageChangeCancel = React.useCallback(() => {\r\n    if (!isEnabled()) {\r\n      return;\r\n    }\r\n\r\n    clearKeyboardTimeout(); // The page didn't change, we should restore the focus of text input\r\n\r\n    const input = previouslyFocusedTextInputRef.current;\r\n\r\n    if (input) {\r\n      // If the interaction was super short we should make sure keyboard won't hide again.\r\n      // Too fast input refocus will result only in keyboard flashing on screen and hiding right away.\r\n      // During first ~100ms keyboard will be dismissed no matter what,\r\n      // so we have to make sure it won't interrupt input refocus logic.\r\n      // That's why when the interaction is shorter than 100ms we add delay so it won't hide once again.\r\n      // Subtracting timestamps makes us sure the delay is executed only when needed.\r\n      if (Date.now() - startTimestampRef.current < 100) {\r\n        keyboardTimeoutRef.current = setTimeout(() => {\r\n          input === null || input === void 0 ? void 0 : input.focus();\r\n          previouslyFocusedTextInputRef.current = undefined;\r\n        }, 100);\r\n      } else {\r\n        input === null || input === void 0 ? void 0 : input.focus();\r\n        previouslyFocusedTextInputRef.current = undefined;\r\n      }\r\n    }\r\n  }, [clearKeyboardTimeout, isEnabled]);\r\n  React.useEffect(() => {\r\n    return () => clearKeyboardTimeout();\r\n  }, [clearKeyboardTimeout]);\r\n  return {\r\n    onPageChangeStart,\r\n    onPageChangeConfirm,\r\n    onPageChangeCancel\r\n  };\r\n}\r\n//# sourceMappingURL=useKeyboardManager.js.map"]},"metadata":{},"sourceType":"module"}